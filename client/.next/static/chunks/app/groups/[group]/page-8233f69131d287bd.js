(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{8344:function(s,e,t){Promise.resolve().then(t.bind(t,944))},3976:function(s,e,t){"use strict";t.d(e,{H:function(){return r}});var n=t(9268),a=t(4214),i=t(6006);let c=(0,i.createContext)();function r(s){let[e,t]=(0,i.useState)(null);async function r(){try{let s=await a.Z.get("/auth/isauthentic");t(s.data)}catch(s){t(null)}}(0,i.useEffect)(()=>{r()},[]);let[l,d]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{r()},[l]),(0,n.jsx)(c.Provider,{value:{UserDetails:e,setUserDetails:t,call_again_getuser:l,setcall_again_getuser:d},children:s.children})}e.Z=c},944:function(s,e,t){"use strict";t.r(e),t.d(e,{default:function(){return o}});var n=t(9268),a=t(6006),i=t(6323);t(5360);var c=t(5326),r=t.n(c);function l(s){return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{class:"msg right-msg",children:[(0,n.jsx)("div",{class:"msg-img",children:(0,n.jsx)("i",{class:"fa-solid fa-user"})}),(0,n.jsxs)("div",{class:"msg-bubble",children:[(0,n.jsxs)("div",{class:"msg-info",children:[(0,n.jsx)("div",{class:"msg-info-name",children:"You"}),(0,n.jsx)("div",{class:"msg-info-time",children:r().utc(s.date).local().startOf("seconds").fromNow()})]}),(0,n.jsx)("div",{class:"msg-text",children:s.message})]})]})})}function d(s){return(0,n.jsxs)("div",{class:"msg left-msg",children:[(0,n.jsx)("div",{class:"msg-img",children:(0,n.jsx)("i",{class:"fa-solid fa-user"})}),(0,n.jsxs)("div",{class:"msg-bubble",children:[(0,n.jsxs)("div",{class:"msg-info",children:[(0,n.jsx)("div",{class:"msg-info-name",children:s.name}),(0,n.jsx)("div",{class:"msg-info-time",children:r().utc(s.date).local().startOf("seconds").fromNow()})]}),(0,n.jsx)("div",{class:"msg-text",children:s.message})]})]})}var u=t(3976);let m=i.ZP.connect("http://localhost:5000/");var o=s=>{let{params:e}=s,{UserDetails:t}=(0,a.useContext)(u.Z),i=e.group,[c,r]=(0,a.useState)(""),[o,f]=(0,a.useState)([]);return(0,a.useEffect)(()=>{f([])},[i]),(0,a.useEffect)(()=>(m.on("message",s=>{console.log(s),f(e=>[...e,s])}),()=>{m.disconnect()}),[]),(0,n.jsx)("div",{children:(0,n.jsxs)("section",{class:"msger",children:[(0,n.jsxs)("header",{class:"msger-header",children:[(0,n.jsxs)("div",{class:"msger-header-title",children:[(0,n.jsx)("i",{class:"fas fa-comment-alt"})," ",i," Discussion"]}),(0,n.jsx)("div",{class:"msger-header-options",children:(0,n.jsx)("span",{children:(0,n.jsx)("i",{class:"fas fa-cog"})})})]}),(0,n.jsx)("div",{className:"max-chat-size",children:(0,n.jsx)("main",{class:"msger-chat",children:o.map((s,e)=>(0,n.jsx)("div",{class:"msger-chat",children:s.user===t.username?(0,n.jsx)(l,{message:s.text,date:s.date,name:s.user}):(0,n.jsx)(d,{message:s.text,date:s.date,name:s.user})},e))})}),(0,n.jsxs)("form",{class:"msger-inputarea",onSubmit:s=>{if(s.preventDefault(),!t){alert("Login Before Sending Message");return}if(c.trim()){let s={room:i,text:c,user:t.username,date:new Date};m.emit("message",s),r("")}},children:[(0,n.jsx)("input",{type:"text",class:"msger-input",value:c,onChange:s=>{r(s.target.value)}}),(0,n.jsx)("button",{class:"msger-send-btn",type:"submit",children:"Send"})]})]})})}},5360:function(){}},function(s){s.O(0,[550,348,323,253,961,744],function(){return s(s.s=8344)}),_N_E=s.O()}]);